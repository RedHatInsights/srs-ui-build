(self.webpackChunksrs_ui=self.webpackChunksrs_ui||[]).push([[148,481],{1768:()=>{},2247:(e,t,n)=>{"use strict";n.d(t,{o:()=>c});var r=n(5418),a=n.n(r),i=n(1593),o=n(4669),l=n(8068),u=n(3494),c=function(){var e=(0,i.useTranslation)().t;return a().createElement(o.PageSection,{padding:{default:"noPadding"},isFilled:!0},a().createElement(u.C0,{emptyStateProps:{variant:u.jU.PageNotFound},titleProps:{title:e("404_page_does_not_exist")},emptyStateBodyProps:{body:e("we_cannot_find_the_page_you_are_looking_for")}},a().createElement((function(){var t=(0,l.useHistory)();return a().createElement(o.Button,{onClick:function(){t.push("/")}},e("return_to_home_page"))}),null)))}},3494:(e,t,n)=>{"use strict";n.d(t,{uZ:()=>l,sw:()=>c,a$:()=>w.a,AX:()=>s.A,D5:()=>g.D,C0:()=>d.C,jU:()=>d.j,tV:()=>_,yR:()=>p.y,wu:()=>E.w,wR:()=>h.w,L5:()=>y.L,Ny:()=>k.Ny,OU:()=>k.OU,QK:()=>k.QK});var r=n(655),a=n(5418),i=n.n(a),o=n(5216),l=function(e){var t=e.children,n=(0,a.useState)([]),l=n[0],u=n[1],s=(0,a.useState)([]),d=s[0],m=s[1];(0,a.useEffect)((function(){var e=d.map((function(e){return e.key})),t=l.filter((function(t){return!e.includes(null==t?void 0:t.id)})).map((function(e){var t=e.id,n=void 0===t?"":t,r=setTimeout((function(){return f(n)}),8e3);return{key:e.id,timeOut:r}}));return m((0,r.__spreadArray)((0,r.__spreadArray)([],d,!0),t,!0)),function(){return d.forEach((function(e){return(null==e?void 0:e.timeOut)&&clearTimeout(e.timeOut)}))}}),[l]);var f=function(e){u((function(t){return(0,r.__spreadArray)([],t.filter((function(t){return t.id!==e})),!0)})),m((function(t){return(0,r.__spreadArray)([],t.filter((function(t){return t.key===e})),!0)}))};return i().createElement(o.AlertContext.Provider,{value:{addAlert:function(e){var t=(new Date).getTime().toString();u((0,r.__spreadArray)((0,r.__spreadArray)([],l,!0),[(0,r.__assign)((0,r.__assign)({},e),{id:t})],!1))}}},i().createElement(c,{alerts:l,onCloseAlert:f}),t)},u=n(4669),c=function(e){var t=e.alerts,n=e.onCloseAlert;return i().createElement(u.AlertGroup,{isToast:!0},t.map((function(e){var t=e.id,a=e.variant,o=e.title,l=e.description,c=e.dataTestId,s=(0,r.__rest)(e,["id","variant","title","description","dataTestId"]);return i().createElement(u.Alert,(0,r.__assign)({key:t,isLiveRegion:!0,variant:u.AlertVariant[a],variantLabel:"",title:o,actionClose:i().createElement(u.AlertActionCloseButton,{title:o,onClose:function(){return n(t)}}),"data-testid":c},s),l)})))},s=n(9441),d=n(1098),m=n(8068),f=n(1593),v=(n(7502),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasError:!1},t.onClickButton=function(){var e=t.props.history;t.setState({hasError:!1}),e&&e.push("/")},t}return(0,r.__extends)(t,e),t.getDerivedStateFromError=function(e){return{hasError:!0}},t.prototype.componentDidCatch=function(e,t){console.error("error:",e,t)},t.prototype.render=function(){var e=this.props.t;return this.state.hasError?i().createElement(u.PageSection,{padding:{default:"noPadding"},isFilled:!0},i().createElement(d.C,{emptyStateProps:{variant:d.j.UnexpectedError},emptyStateIconProps:{className:"icon-color"},titleProps:{title:e("common.something_went_wrong")},emptyStateBodyProps:{body:e("unexpected_error")}},i().createElement(u.Button,{onClick:this.onClickButton},e("common.go_to_kafka_instances")))):this.props.children},t}(a.Component)),_=(0,m.withRouter)((0,f.withTranslation)()(v)),p=n(6554),g=n(3242),E=n(6376),h=n(2067),y=n(5642),w=(n(2247),n(2311)),k=n(9758)},2519:(e,t,n)=>{"use strict";n.d(t,{j:()=>a});var r=n(5418);function a(e){r.useEffect((function(){var t=document.title;return document.title=e,function(){document.title=t}}),[e])}},2648:(e,t,n)=>{"use strict";n.d(t,{mh:()=>a,wx:()=>i,xe:()=>o,YZ:()=>l,hm:()=>u,L0:()=>c});var r=n(4683);function a(){return window.setTimeout((function(){var e=document.getElementById("primary-app-container");e&&e.focus()}),50)}var i=function(){return document.querySelector("#qs-content")||document.body},o=32,l=255,u=[{value:"ready",label:"Ready"},{value:"failed",label:"Failed"},{value:"accepted",label:"Creation pending"},{value:"provisioning",label:"Creation in progress"},{value:"preparing",label:"Creation in progress"},{value:"deprovision",label:"Deletion in progress"},{value:"deleting",label:"Deletion in progress"}],c=function(e,t){return e="string"==typeof e?new Date(e):e,(0,r.formatDistance)(e,new Date)+" "+t}},7242:(e,t,n)=>{"use strict";n.r(t);var r=n(5418),a=n.n(r),i=n(6235),o=n.n(i),l=n(655),u=n(8068),c=n(1593),s=(n(1768),n(4669)),d=n(2648),m=n(2247),f=n(2519),v=n(9581),_=n(2979),p=n(5216),g=n(6280),E=n(3494);var h,y=a().createContext(void 0),w=function(){var e=(0,c.useTranslation)().t,t=(0,p.useAuth)(),n=(0,p.useConfig)().srs.apiBasePath,i=((0,p.useBasename)(),(0,p.useAlert)().addAlert),o=(0,E.QK)().showModal,d=(0,r.useContext)(y)||{},m=d.preCreateInstance,f=d.shouldOpenCreateModal,v=(0,u.useLocation)(),h=new URLSearchParams(v.search),w=parseInt(h.get("page")||"",10)||1,k=parseInt(h.get("perPage")||"",10)||10,C=(0,r.useState)(!1),b=C[0],P=C[1],S=(0,r.useState)(void 0),A=S[0],R=S[1],T=(0,r.useState)(!1),x=T[0],L=(T[1],(0,r.useState)(!1)),B=L[0],N=(L[1],(0,r.useState)(void 0)),I=N[0],D=N[1],U=(0,r.useState)(void 0),O=U[0],F=U[1],V=(0,r.useState)(void 0),j=V[0],H=V[1],z=(0,r.useState)("name asc"),M=z[0],q=z[1];(0,r.useEffect)((function(){Y()}),[]),(0,r.useEffect)((function(){null==t||t.getUsername().then((function(e){return H(e)}))}),[t]),(0,r.useEffect)((function(){Q()}),[O]),(0,r.useEffect)((function(){(0,l.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return(e=f)?[4,f()]:[3,2];case 1:e=t.sent(),t.label=2;case 2:return e&&$(),[2]}}))}))}),[f]);var G,Z,K,Q=function(){if(O&&(null==O?void 0:O.length)>0){var e=null==O?void 0:O.filter((function(e){return(null==e?void 0:e.id)===(null==A?void 0:A.id)}))[0],t=(0,l.__assign)((0,l.__assign)({},A),e);e&&R(t)}},Y=function(){return(0,l.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return[4,null==t?void 0:t.srs.getToken()];case 1:return e=r.sent(),[4,new _.RegistriesApi(new _.Configuration({accessToken:e,basePath:n})).getRegistries().then((function(e){var t=null==e?void 0:e.data;D(t),F(null==t?void 0:t.items)})).catch((function(e){}))];case 2:return r.sent(),[2]}}))}))};G=function(){return Y()},Z=5e3,K=(0,r.useRef)(),(0,r.useEffect)((function(){K.current=G}),[G]),(0,r.useEffect)((function(){if(null!==Z){var e=setTimeout((function(){K.current()}),Z);return function(){clearInterval(e)}}}),[G,Z]);var W=function(e){P(!0),R(e)},X=function(n){var r=n||{},c=r.name,d=r.status,m=r.registryUrl;o(E.Ny.DELETE_SERVICE_REGISTRY,{serviceRegistryStatus:d,selectedItemData:n,fetchRegistries:Y,title:e("common.delete_service_registry_title")+"?",confirmButtonProps:{label:e("common.delete")},textProps:{descriptionHTML:a().createElement(a().Fragment,null,a().createElement(s.Text,{className:"mas--delete-item__modal--text"},a().createElement("span",{dangerouslySetInnerHTML:{__html:e("common.delete_service_registry_description",{name:c})}})),a().createElement(s.Text,{className:"mas--delete-item__modal--text"},e("common.delete_service_registry_download_zip"),"Â ",a().createElement(u.Link,{onClick:function(){return function(n,r){return(0,l.__awaiter)(void 0,void 0,void 0,(function(){var a;return(0,l.__generator)(this,(function(o){switch(o.label){case 0:return[4,null==t?void 0:t.apicurio_registry.getToken()];case 1:return a=o.sent(),fetch(n+"/apis/registry/v2/admin/export",{headers:new Headers({Authorization:"Bearer "+a||0})}).then((function(e){return e.blob()})).then((function(e){var t=document.createElement("a");t.href=window.URL.createObjectURL(e),t.download=r+".zip",t.click()})).catch((function(t){var n,r;i({title:e("something_went_wrong"),variant:s.AlertVariant.danger,description:null===(r=null===(n=null==t?void 0:t.response)||void 0===n?void 0:n.data)||void 0===r?void 0:r.reason})})),[2]}}))}))}(m,c)},to:"#"},e("common.delete_service_registry_download_zip_link"))))}})},$=function(){o(E.Ny.CREATE_SERVICE_REGISTRY,{fetchServiceRegistries:Y})},J=function(){return(0,l.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return m?[4,m(!0)]:[3,2];case 1:e=t.sent(),t.label=2;case 2:return e&&$(),[2]}}))}))};return B?a().createElement(g.nA,{getAccessToServiceRegistry:function(){}}):void 0===O?a().createElement(s.PageSection,{variant:s.PageSectionVariants.light,padding:{default:"noPadding"}},a().createElement(E.yR,null)):(null==O?void 0:O.length)?a().createElement(g.OP,{isExpanded:b,isLoading:void 0===A,notRequiredDrawerContentBackground:x,onClose:function(){P(!1)},registry:A},a().createElement("main",{className:"pf-c-page__main"},a().createElement(g.mt,{onConnectToRegistry:W,onDeleteRegistry:X,serviceRegistryDetails:A}),a().createElement(g.UW,{page:w,perPage:k,serviceRegistryItems:O,total:null==I?void 0:I.total,onViewConnection:W,onDelete:X,expectedTotal:0,orderBy:M,setOrderBy:q,loggedInUser:j,currentUserRegistries:O,handleCreateModal:J,refresh:Y,registryDataLoaded:!1,isDrawerOpen:b}))):a().createElement(a().Fragment,null,a().createElement(g.mt,null),a().createElement(g.EG,{onCreateserviceRegistry:J}))},k=[{component:function(){return a().createElement(w,null)},exact:!0,label:"Service Registry",path:"/",title:"Service Registry"}],C=function(e){var t=e.component,n=e.isAsync,r=void 0!==n&&n,i=e.title,o=(0,l.__rest)(e,["component","isAsync","title"]);return function(e){var t=(0,v.useLastLocation)();a().useEffect((function(){return e||null===t||(h=(0,d.mh)()),function(){window.clearTimeout(h)}}),[e,t])}(r),(0,f.j)(i),a().createElement(u.Route,(0,l.__assign)({render:function(e){return a().createElement(t,(0,l.__assign)({},o,e))}},o))},b=function(e){var t=e.title;return(0,f.j)(t),a().createElement(u.Route,{component:m.o})},P=k.reduce((function(e,t){return(0,l.__spreadArray)((0,l.__spreadArray)([],e,!0),t.routes?t.routes:[t],!0)}),[]),S=function(){return a().createElement(v.LastLocationProvider,null,a().createElement(u.Switch,null,P.map((function(e,t){var n=e.path,r=e.exact,i=e.component,o=e.title,u=e.isAsync,c=(0,l.__rest)(e,["path","exact","component","title","isAsync"]);return a().createElement(C,(0,l.__assign)({path:n,exact:r,component:i,key:t,title:o,isAsync:u},c))})),a().createElement(b,{title:"404 Page Not Found"})))};const A=n.p+"f940137c.svg";var R,T,x=function(e){var t=e.children,n=r.useState(!0),a=n[0],i=n[1],o=r.useState(!0),l=o[0],c=o[1],d=r.useState(!1),m=d[0],f=d[1];var v=r.createElement(s.PageHeader,{logo:r.createElement((function(){var e=(0,u.useHistory)();return r.createElement("img",{src:A,onClick:function(){e.push("/")},alt:"PatternFly Logo"})}),null),showNavToggle:!0,isNavOpen:a,onNavToggle:l?function(){f(!m)}:function(){i(!a)}}),_=(0,u.useLocation)(),p=function(e,t){return r.createElement(s.NavItem,{key:e.label+"-"+t,id:e.label+"-"+t},r.createElement(u.NavLink,{exact:e.exact,to:e.path,activeClassName:"pf-m-current"},e.label))},g=r.createElement(s.Nav,{id:"nav-primary-simple",theme:"dark"},r.createElement(s.NavList,{id:"nav-list-simple"},k.map((function(e,t){return e.label&&(e.routes?(n=e,a=t,r.createElement(s.NavExpandable,{key:n.label+"-"+a,id:n.label+"-"+a,title:n.label,isActive:n.routes.some((function(e){return e.path===_.pathname}))},n.routes.map((function(e,t){return e.label&&p(e,t)})))):p(e,t));var n,a})))),E=r.createElement(s.PageSidebar,{theme:"dark",nav:g,isNavOpen:l?m:a}),h="primary-app-container",y=r.createElement(s.SkipToContent,{onClick:function(e){e.preventDefault();var t=document.getElementById(h);t&&t.focus()},href:"#"+h},"Skip to Content");return r.createElement(s.Page,{mainContainerId:h,header:v,sidebar:E,onPageResize:function(e){c(e.mobileView)},skipToContent:y},t)},L=n(8800),B=n(5434),N=n.n(B),I=function(){return(0,l.__awaiter)(void 0,void 0,Promise,(function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return R?[3,2]:[4,D()];case 1:e.sent(),e.label=2;case 2:return[2,R]}}))}))},D=function(){return(0,l.__awaiter)(void 0,void 0,Promise,(function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),(R=N()())?[4,R.init({onLoad:"login-required"})]:[3,2];case 1:e.sent(),e.label=2;case 2:return[3,4];case 3:return e.sent(),R=void 0,console.warn("Auth: Unable to initialize keycloak. Client side will not be configured to use authentication"),[3,4];case 4:return[2]}}))}))},U=function(){return(0,l.__awaiter)(void 0,void 0,Promise,(function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return[4,null==R?void 0:R.updateToken(50)];case 1:return e.sent(),(null==R?void 0:R.token)?[2,R.token]:(console.error("No keycloak token available"),[2,"foo"])}}))}))},O=function(){return(0,l.__awaiter)(void 0,void 0,Promise,(function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return[4,null==R?void 0:R.updateToken(50)];case 1:return e.sent(),(null==R?void 0:R.tokenParsed)?[2,R.tokenParsed]:(console.error("No keycloak token available"),[2,{}])}}))}))},F=a().createContext({keycloak:void 0}),V=function(e){var t={srs:{getToken:U},getUsername:function(){return O().then((function(e){return e.username}))},isOrgAdmin:function(){return O().then((function(e){return e.is_org_admin}))}};return a().createElement(p.AuthContext.Provider,{value:t},e.children)};const j=function(){var e=a().useState(!1),t=e[0],n=e[1];return(0,r.useEffect)((function(){(0,l.__awaiter)(void 0,void 0,void 0,(function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return[4,I()];case 1:return T=e.sent(),n(!0),[2]}}))}))}),[]),t?a().createElement(p.ConfigContext.Provider,{value:{srs:{apiBasePath:__BASE_PATH__}}},a().createElement(p.BasenameContext.Provider,{value:{getBasename:function(){return""}}},a().createElement(c.I18nextProvider,{i18n:L.Z},a().createElement(E.uZ,null,a().createElement(F.Provider,{value:{keycloak:T,profile:null==T?void 0:T.profile}},a().createElement(V,null,a().createElement(u.BrowserRouter,null,a().createElement(a().Suspense,{fallback:a().createElement(E.yR,null)},a().createElement(E.tV,null,a().createElement(E.OU,null,a().createElement(x,null,a().createElement(S,null)))))))))))):a().createElement(E.yR,null)};o().render(a().createElement(j,null),document.getElementById("root"))}}]);
//# sourceMappingURL=148.84175206.js.map
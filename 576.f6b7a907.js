"use strict";(self.webpackChunksrs_ui=self.webpackChunksrs_ui||[]).push([[576],{5634:(e,t,s)=>{t.Ws={name:"ArrowRightIcon",height:512,width:448,svgPath:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z",yOffset:0,xOffset:0},t.LZ=s(35183).IU(t.Ws),t.ZP=t.LZ},2112:(e,t,s)=>{t.MS={name:"WrenchIcon",height:512,width:512,svgPath:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z",yOffset:0,xOffset:0},t.R0=s(35183).IU(t.MS),t.R0},96230:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var i=s(85893),r=s(70655),a=s(93264),n=s(73685),o=s(15847),c=s(90154),d=s(95798),l=s(97644),h=s(87807),u=s(180),p=s(67822);const g=({render:e,breadcrumbId:t})=>{const{t:s}=(0,o.useTranslation)(["service-registry"]),g=(0,l.useAuth)(),{srs:{apiBasePath:m}}=(0,l.useConfig)(),{tenantId:v}=(0,n.useParams)(),{showModal:j}=(0,u.dd)(),{renderDownloadArtifacts:x}=(0,p.x)()||{},[y,S]=(0,a.useState)(!1),[b,f]=(0,a.useState)(void 0),[C,_]=(0,a.useState)(!1),w=(0,a.useCallback)((()=>(0,r.__awaiter)(void 0,void 0,void 0,(function*(){const e=yield null==g?void 0:g.srs.getToken();_(!0);const t=new d.RegistriesApi(new d.Configuration({accessToken:e,basePath:m}));e&&v&&(yield t.getRegistry(v).then((e=>{f(null==e?void 0:e.data),_(!1)})).catch((()=>{_(!1)})))}))),[null==g?void 0:g.srs,m,v]);(0,a.useEffect)((()=>{w()}),[w]);return C?(0,i.jsx)(c.PageSection,Object.assign({variant:c.PageSectionVariants.light,padding:{default:"noPadding"}},{children:(0,i.jsx)(u.yR,{})})):(0,i.jsxs)(h.OP,Object.assign({isExpanded:y,isLoading:void 0===b,onClose:()=>{S(!1)},registry:b},{children:[(0,i.jsx)(h.mt,{onConnectToRegistry:()=>{S(!0)},onDeleteRegistry:e=>{const{status:t}=e||{};j(u.w8.DeleteServiceRegistry,{shouldRedirect:!0,status:t,registry:e,confirmButtonProps:{label:s("common:delete")},renderDownloadArtifacts:x})},breadcrumbId:t,serviceRegistryDetails:b}),e&&e(b)]}))},m=({render:e,breadcrumbId:t,tokenEndPointUrl:s,artifactId:r,renderDownloadArtifacts:a})=>(0,i.jsx)(p.w.Provider,Object.assign({value:{tokenEndPointUrl:s,artifactId:r,renderDownloadArtifacts:a}},{children:(0,i.jsxs)(u.DY,{children:[(0,i.jsx)(g,{render:e,breadcrumbId:t}),(0,i.jsx)(u.r3,{})]})}))},9019:(e,t,s)=>{s.d(t,{u:()=>d});var i=s(85893),r=s(73685),a=s(15847),n=s(90154),o=s(2112),c=s(5634);const d=({topicName:e,basename:t})=>{const{t:s}=(0,a.useTranslation)("service-registry");return(0,i.jsxs)(n.EmptyState,Object.assign({className:"pf-u-pt-2xl pf-u-pt-3xl-on-md"},{children:[(0,i.jsx)(n.EmptyStateIcon,{icon:o.R0}),(0,i.jsx)(n.Title,Object.assign({headingLevel:"h2",size:"lg"},{children:s("empty_state_title")})),(0,i.jsx)(n.EmptyStateBody,{children:s("empty_state_body")}),(0,i.jsx)(n.EmptyStateSecondaryActions,{children:(0,i.jsx)(n.ClipboardCopy,Object.assign({isReadOnly:!0,hoverTip:"Copy",clickTip:"Copied",className:"pf-u-w-25"},{children:e+"-value"}))}),(0,i.jsx)(n.EmptyStateSecondaryActions,{children:(0,i.jsx)(n.ClipboardCopy,Object.assign({isReadOnly:!0,hoverTip:"Copy",clickTip:"Copied",className:"pf-u-w-25"},{children:e+"-key"}))}),(0,i.jsx)(n.EmptyStateSecondaryActions,{children:(0,i.jsxs)(r.Link,Object.assign({to:t},{children:[s("go_to_service_registry_instance_helper_text")," ",(0,i.jsx)(c.LZ,{})]}))})]}))}},53002:(e,t,s)=>{s.d(t,{g:()=>o});var i=s(85893),r=s(90154),a=s(15847),n=s(49093);const o=()=>{const{t:e}=(0,a.useTranslation)("service-registry");return(0,i.jsxs)(r.EmptyState,Object.assign({className:(0,n.css)("pf-u-pt-2xl pf-u-pt-3xl-on-md")},{children:[(0,i.jsx)(r.EmptyStateSecondaryActions,{children:(0,i.jsx)(r.Bullseye,{children:(0,i.jsx)(r.Spinner,{size:"xl"})})}),(0,i.jsx)(r.EmptyStateSecondaryActions,{children:(0,i.jsx)(r.TextContent,{children:(0,i.jsx)(r.Text,Object.assign({component:r.TextVariants.h1},{children:e("schema_loading")}))})})]}))}},47615:(e,t,s)=>{s.d(t,{G:()=>g});var i=s(70655),r=s(85893),a=s(93264),n=s(73685),o=s(90154),c=s(15847),d=s(95798),l=s(97644),h=s(9019),u=s(53002);const p=(0,a.memo)((({renderSchema:e,registry:t})=>e&&t&&e(t)||(0,r.jsx)(r.Fragment,{})));p.displayName="Schemas";const g=({renderSchema:e,basename:t,topicName:s})=>{const{t:g}=(0,c.useTranslation)("service-registry"),m=(0,l.useAuth)(),{srs:{apiBasePath:v}}=(0,l.useConfig)()||{srs:{apiBasePath:""}},[j,x]=(0,a.useState)(void 0),[y,S]=(0,a.useState)(),[b,f]=(0,a.useState)(!1),[C,_]=(0,a.useState)(),w=(0,a.useCallback)((()=>(0,i.__awaiter)(void 0,void 0,void 0,(function*(){let e=1;const t=100,s=yield null==m?void 0:m.srs.getToken(),r=new d.RegistriesApi(new d.Configuration({accessToken:s,basePath:v})),a=yield(0,i.__awaiter)(void 0,void 0,void 0,(function*(){const s=yield r.getRegistries(e,t);let{items:i}=null==s?void 0:s.data;const{total:a}=null==s?void 0:s.data;if(a>t){const s=Math.ceil(a/t);for(let a=1;a<s;a++){e+=1;const s=yield r.getRegistries(e,t);i=null==i?void 0:i.concat(null==s?void 0:s.data.items)}return i}return i}));x(a)}))),[null==m?void 0:m.srs,v]);(0,a.useEffect)((()=>{w()}),[w]),(0,a.useEffect)((()=>{const e=null==j?void 0:j.filter((e=>e.name===y))[0];_(e)}),[y,j]);const O=e=>{f(e)},T=(e,t)=>{null==e||e.preventDefault(),S(t),f(!1)},R=()=>{S(void 0)};return void 0===j?(0,r.jsx)(u.g,{}):(null==j?void 0:j.length)?(0,r.jsxs)(o.Stack,Object.assign({hasGutter:!0},{children:[(0,r.jsx)(o.StackItem,{children:(0,r.jsxs)(o.Card,{children:[(0,r.jsx)(o.CardTitle,Object.assign({component:"h2"},{children:g("service_registry_instance")})),(0,r.jsx)(o.CardBody,{children:(0,r.jsxs)(o.Grid,Object.assign({hasGutter:!0,rowSpan:2},{children:[(0,r.jsxs)(o.GridItem,{children:[" ",(0,r.jsx)(o.Select,Object.assign({id:"registry-mapping-select",variant:o.SelectVariant.typeahead,typeAheadAriaLabel:g("select_instance"),placeholderText:g("select_instance"),onToggle:O,onSelect:T,selections:y,isOpen:b,width:600,onClear:R},{children:null==j?void 0:j.map((e=>(0,r.jsx)(o.SelectOption,{value:e.name},e.id)))}))]}),(0,r.jsx)(o.GridItem,{children:(0,r.jsx)(n.Link,Object.assign({to:t},{children:g("create_service_registry_helper_text")}))})]}))})]})}),(0,r.jsx)(o.StackItem,{children:(0,r.jsx)(p,{renderSchema:e,registry:C})})]})):(0,r.jsx)(h.u,{topicName:s,basename:t})}},28354:(e,t,s)=>{s.r(t),s.d(t,{default:()=>a});var i=s(85893),r=s(47615);const a=({renderSchema:e,basename:t,topicName:s})=>(0,i.jsx)(r.G,{renderSchema:e,basename:t,topicName:s})},7878:(e,t,s)=>{s(85893),s(15847),s(90154),s(73685),s(180)},91635:(e,t,s)=>{s.d(t,{D:()=>l,t:()=>d});var i=s(85893),r=s(93264),a=s(90154),n=s(53215);const o=({variant:e,hideModal:t,title:s})=>(0,i.jsx)(a.Modal,{id:"fallback-modal",variant:e,isOpen:!0,"aria-label":"fallback modal",showClose:!0,"aria-describedby":"modal-message",onClose:t,title:s,children:(0,i.jsx)(n.Loading,{bullseyeProps:{className:"pf-u-p-xl"}})}),c=({activeModal:e,hideModal:t,modalRegistry:s})=>{if(void 0===e)return(0,i.jsx)(i.Fragment,{});const a=s.current[e.modalType],n=a.lazyComponent;return(0,i.jsx)(r.Suspense,Object.assign({fallback:(0,i.jsx)(o,{hideModal:t,variant:a.variant,title:a.title})},{children:(0,i.jsx)(n,Object.assign({hideModal:t,title:a.title,variant:a.variant},e.modalProps))}))},d=(0,r.createContext)(void 0),l=({children:e})=>{const[t,s]=(0,r.useState)(),a=(0,r.useRef)({}),n={registerModals:e=>{a.current=Object.assign(Object.assign({},a),e)},hideModal:()=>{s(void 0)},showModal:(e,t)=>{s({modalType:e,modalProps:t})}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c,{activeModal:t,hideModal:n.hideModal,modalRegistry:a}),(0,i.jsx)(d.Provider,Object.assign({value:n},{children:e}))]})}},22931:(e,t,s)=>{var i;s.d(t,{w:()=>i}),function(e){e.CreateServiceRegistry="CreateServiceRegistry",e.DeleteServiceRegistry="DeleteServiceRegistry"}(i||(i={}))},90806:(e,t,s)=>{s.d(t,{d:()=>a});var i=s(93264),r=s(91635);const a=()=>{const e=(0,i.useContext)(r.t);if(void 0===e)throw new Error("not inside modal provider");return e}},180:(e,t,s)=>{s.d(t,{a$:()=>v.a,AX:()=>n.A,D5:()=>u.D,C0:()=>o.C,jU:()=>o.j,yR:()=>h.y,wu:()=>p.wu,wR:()=>g.w,L5:()=>m.L,DY:()=>j.DY,w8:()=>j.w8,bN:()=>p.bN,r3:()=>j.r3,dd:()=>j.dd,h0:()=>p.h0});var i=s(85893),r=s(93264);s(97644);var a=s(90154);var n=s(5956),o=s(15825),c=s(73685),d=s(15847);s(62426);class l extends r.Component{constructor(){super(...arguments),this.state={hasError:!1},this.onClickButton=()=>{const{history:e}=this.props;this.setState({hasError:!1}),e&&e.push("/")}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){console.error("error:",e,t)}render(){const{t:e}=this.props,{hasError:t}=this.state;return t?(0,i.jsx)(a.PageSection,Object.assign({padding:{default:"noPadding"},isFilled:!0},{children:(0,i.jsx)(o.C,Object.assign({emptyStateProps:{variant:o.j.UnexpectedError},emptyStateIconProps:{className:"icon-color"},titleProps:{title:e("common:something_went_wrong")},emptyStateBodyProps:{body:e("unexpected_error")}},{children:(0,i.jsx)(a.Button,Object.assign({onClick:this.onClickButton},{children:e("common:go_to_kafka_instances")}))}))})):this.props.children}}(0,c.withRouter)((0,d.withTranslation)()(l));var h=s(22336),u=s(78834),p=s(73251),g=s(76506),m=s(58883),v=(s(7878),s(93262)),j=s(45094)},11551:(e,t,s)=>{s.d(t,{G:()=>i,S:()=>r});const i=e=>{var t;return void 0!==(null===(t=e.response)||void 0===t?void 0:t.data.code)};var r;!function(e){e.USER_ALREADY_HAVE_TRIAL_INSTANCE="SRS-MGMT-13",e.INSUFFICIENT_QUOTA="SRS-MGMT-14",e.INSUFFICIENT_STANDARD_QUOTA="SRS-MGMT-7",e.FAILED_TO_CHECK_QUOTA="SRS-MGMT-11"}(r||(r={}))},31973:(e,t,s)=>{s(93264)}}]);
//# sourceMappingURL=576.f6b7a907.js.map